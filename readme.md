###Изменения в БД

1. Изменения можно накатить запустив `sh ./bin/db.setup.sh` или командой `npm run setup`.
2. Выполнена нормализация. Вместо 3 таблиц создано 4:  
  `product` (product_id, name)  
  `provider` (provider_id, name, credit)  
  `offer` (offer_id, product_id, provider_id, price)  
  `booking` (booking_id, offer_id, datetime)  
3. Для всех таблиц добавлены PK, индексы и сиквенсы.
4. Для всех FK созданы индексы, но сами FK, как ограничение не используются (не были созданы намеренно).
5. Для значений, хранящих деньги `provider.credit` и `offer.price`, выбран тип `BIGINT`. Предполагается, что деньги будут храниться в минимальной единице измерения. Например в копейках или центах.
6. Для столбца `booking.datetime` выбран тип `TIMESTAMP WITHOUT TIME ZONE DEFAULT (NOW() AT TIME ZONE 'UTC')`.
7. Вместо таблицы `order` добавлена таблица `booking`. Название изменено, чтобы не писать постоянно двойные кавычки. Т.к. `order` -- ключевое слово.

<br />

###Текст задания

Есть база в PostgreSQL, содержащая три таблицы:  
  `products` (product | provider | price) - содержит соответствие наименования продукта, провайдера и цены.  
  `credits` (provider | credit) - текущий баланс провайдера.  
  `order` (product | provider | price | datetime) - заказы.  

Нужно написать на Node.js обработчик запросов (node-server), реализующий следующий функционал:

1. Принимает запрос типа `POST` на URI `/booking` , где в теле запроса передается `application/json` с названием продукта: `{name: <product>}`.
2. Находит провайдера, который может поставить данный продукт за минимальную цену. При этом кредит у данного провайдера должен быть не меньше стоимости продукта, иначе нужно искать другой вариант.
3. Уменьшает кредит провайдера на сумму, равную стоимости продукта.
4. Записывает в order продукт, провайдера и стоимость.
5. В случае успешного создания заказа сервер должен отдавать ответ `200 OK` с пустым телом.
6. В случае ошибки сервер должен отдавать ответ со статусом `500` и JSON-encoded сообщение об ошибке, например: `{"error":"No such product."}`

При выполнении задачи следует учесть нюансы:

1. Может поступать несколько одновременных входящих запросов.
2. Может быть запущено одновременно несколько node-серверов, работающих с одной базой данных.
3. Кредиты у провайдеров не должны становиться меньше нуля.
4. Можно вносить изменения в структуру базы данных. Изменения желательно сопровождать комментариями.
5. Сервер должен запускаться на порту `3000` командой `npm start`.

Вариант решения должен содержать архив с исходным кодом (сторонние модули можно не включать, если они прописаны в `package.json`).

Если были внесены изменения в структуру бд, нужно прикрепить новый дамп или файл с sql-запросами для внесения изменений. Если используются миграции (например, `sequelize`), дамп можно не прикреплять.
